%% FIXME: remove nobib
\documentclass[a4paper,nobib,titlepage,xelatex]{tufte-book}
\input{preamble}
\title{dotfiles}
\date{%
  January 30, 2020
  \thanks{Last updated \today}
}
\setcounter{tocdepth}{2}
\begin{document}
\frontmatter
\maketitle
\tableofcontents
\mainmatter

\newpage

\chapter{Flake}
\include*{flake}

\chapter{Packages}
\label{chap:packages}
\include*{packages}

\chapter{Machines}
\section{NiXPS}
\label{sec:nixps}
\include*{machines/nixps/configuration}
\include*{machines/nixps/home}
\section{SRUXPS}
\label{sec:sruxps}
\include*{machines/sruxps/configuration}
\include*{machines/sruxps/home}

\chapter{Modules}
\include*{modules/location}
\include*{modules/nixos}
%% \include*{modules/darwin}
\include*{modules/nix}
\include*{modules/virtualisation}
\include*{modules/bootyjams}

\chapter{Software configuration}
\include*{config/applications}
\include*{config/bash}
\include*{config/bat}
\include*{config/browserpass}
\include*{config/bugwarrior}
\include*{config/direnv}
\include*{config/dunst}
\include*{config/emacs}
\include*{config/firefox}
\include*{config/fish}
\include*{config/fzf}
\include*{config/git}
\include*{config/gpg}
\include*{config/htop}
\include*{config/jq}
\include*{config/keyboard}
\include*{config/kitty}
\include*{config/man}
\include*{config/password-store}
\include*{config/rebar3}
\include*{config/starship}
\include*{config/taskwarrior}
\include*{config/xmonad/default}
\include*{config/xmonad/flake-module}

\backmatter

%% \newpage
%% %% \chapter*{Chunks}
%% \begin{multicols}{2}[\chapter*{Chunks}]
%%   \nowebchunks
%% \end{multicols}

%% \chapter*{Index}
%% \begin{multicols}{2}[\chapter*{Index}]
%%   \nowebindex
%% \end{multicols}

\phantomsection
\printglossaries

%% FIXME
%% \nocite{*}
%% \bibliographystyle{plainnat}
%% \bibliography{dotfiles.bib}

\newpage
\listoftodos[To-Do]
\end{document}
